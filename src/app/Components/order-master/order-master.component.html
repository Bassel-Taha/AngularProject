<div class="row justify-content-center m-0 p-0">
  <h2
    class="p-2 text-success-emphasis econdary-emphasis display-4 text-decoration-underline border-secondary border-2 border-top col-10">
    Please create your order here</h2>


  <div class="m-3 row justify-content-center align-content-center">
    <div>
      <select class="form-select" aria-label="Disabled select example"
              [(ngModel)]="selectedCategoryID_InTheMasterOrder">
        <option selected>Select Category</option>
        <option *ngFor="let category of CategoryList" value="{{category.ID}}">{{ category.Name }}</option>
      </select>
    </div>
    <!--for displaying the change of the category prop and gonna be removed later-->
    <!--<div class="card text-bg-success m-3 " style="max-width: 18rem;">
      <div class="card-header text-center">Categories</div>
      <div class="card-body text-center">
        <h5 class="card-title">The Selected category = {{ selectedCategoryID_InTheMasterOrder }}</h5>
      </div>
    </div>-->
  </div>

  <!--the products component-->
  <app-products-list class="m-4 bg-dark-subtle"
                     [SentCategoryID]="selectedCategoryID_InTheMasterOrder"
                     (ProductsQuantitiesEvent)="selectedProductsQuantities"
                     (TotalPriceEvent)="TotalPriceCalc($event)"
  ></app-products-list>

  <hr class="border border-bottom-3 border-black col-11">

  <div class="row justify-content-center">

    <table class="table col-11 m-3">
      <thead>
      <tr>
        <th scope="col">no</th>
        <th scope="col">Product's Name</th>
        <th scope="col">Price</th>
        <th scope="col">Quantity</th>
        <th scope="col">Total Price</th>
      </tr>
      </thead>
      <tbody>
        @for (product of selectedProductsQuantities!; track $index) {
          <tr>
            <th scope="row">{{ $index + 1 }}</th>
            <td>{{ product.Name }}</td>
            <td>{{ product.Price }}</td>
            <td><input type="number" class=" row form-control border border-1 col-1"
                       [(ngModel)]="product.selectedQuantitiesToBuy!"></td>
            <td class="fw-bold">{{ product.selectedQuantitiesToBuy! * product.Price }}</td>
          </tr>
        } @empty {
          <tr>
            <th scope="row" class="text-secondary h5 fw-bold" colspan="4">not products added to the cart</th>
          </tr>
        }
      </tbody>
    </table>
    <div class="row justify-content-end mx-5">
      <div class="mt-2 col-9 row justify-content-center">
        <h3 class="text-center h-25 fw-bold fst-italic col-auto"> The Total Price : </h3>
        <div class="row justify-content-center text-center col-auto ">
          <h2 class="border border-3 h-50 fst-italic fw-normal text-primary-emphasis">{{ TotalPriceOfProducts }}</h2>
        </div>
      </div>
      <button class="btn btn-lg btn-outline-primary mx-5 my-4 col-2">Place Order</button>
    </div>
  </div>


</div>


<div class="container-fluid m-2 ms-0">

  <div class="row justify-content-around align-content-center">
    <div class="col-3 g-2 text-center align-content-center justify-content-center"
         *ngFor="let Product of ListOfProducts">
      <div class="card bg-light` justify-content-center text-center" [class.d-none]='Product.CategoryID != selectedCategoryID && selectedCategoryID!="Select Category"'>
        <div class="card-body justify-content-center text-center m-0 p-2">
          <h4 class="card-title align-items-center">{{ Product?.Name }}</h4>
          <h6 class="card-subtitle text-secondary mb-2">Product ID: {{ Product?.ID }}</h6>
          <p class="card-text justify-content-center text-primary fw-bolder m-0 p-0">{{ Product?.Price }}$</p>
          <div>
            @switch (Product.Quantity)
            {
              @case (0){
                <p class="card-text m-0 text-secondary p-0">the product is out of stock </p>
              }
              @case (1){
                <p class="card-text m-0 text-secondary p-0">the last piece in the market </p>
              }
              @default {
                <p class="card-text m-0 text-secondary p-0">Quantity {{ Product?.Quantity }}</p>
              }
            }
          </div>
        </div>
        <div class="justify-content-center align-content-center text-center mx-4">
          <img src="{{Product.ImgUrl}}" class="text-center align-self-center card-img-bottom img-fluid card-img mb-3"
               alt="..." style="width: fit-content ; height: 200px">
          <input #inputElement class="align-self-center form-control " type="number">
          <!--Template Variable-->
          <button class="align-self-center btn col-4 btn-lg btn-outline-primary text-secondary m-3"
                  (click)="TotalPriceCalc(Product.Price, inputElement.value)">Buy
          </button>
          <h3 class="display-6 fst-italic fw-normal text-primary-emphasis ">Total price
            : {{ Number(TotalPriceOfProduct) }}</h3></div>
      </div>
    </div>
  </div>

  <div class="m-3 row justify-content-center">
    <div>
      <select class="form-select" aria-label="Disabled select example" [(ngModel)]="selectedCategoryID">
        <option selected>Select Category</option>
        <option *ngFor="let category of CategoryList" value="{{category.ID}}">{{ category.Name }}</option>
      </select>
    </div>
    <div class="card text-bg-success m-3 " style="max-width: 18rem;">
      <div class="card-header text-center">Categories</div>
      <div class="card-body text-center">
        <h5 class="card-title">The Selectd catigury = {{selectedCategoryID}}</h5>
      </div>
    </div>
  </div>
</div>

